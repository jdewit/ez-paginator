angular.module("ez.paginator",[]),angular.module("ez.paginator").directive("ezPaginatorBar",["EzPaginatorConfig",function(a){return{restrict:"EA",scope:{pagination:"=ezPaginatorBar",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/bar/bar.html",link:function(b,c,d){b.config=a.get(b,d)}}}]),angular.module("ez.paginator").constant("EzPaginatorConfig",{maxPages:10,initialPage:1,useGetVars:!1,showPaginator:!0,showState:!0,showLimit:!0,states:[{id:"active",name:"Active"},{id:"deleted",name:"Deleted"}],stateToggleClass:"btn btn-default",stateDropdownMenuClass:"pointer pull-right",stateContainerClass:"dropdown",limits:[5,15,25,50],limitToggleClass:"btn btn-default",limitDropdownMenuClass:"pointer pull-right",limitContainerClass:"dropdown",get:function(a,b){var c=angular.extend({},this);if(delete c.get,a.ezConfig&&(c=angular.extend(c,a.ezConfig)),a&&b){var d=Object.getOwnPropertyNames(this);d.forEach(function(a){b.hasOwnProperty(a)&&(c[a]=b[a])})}return c}}),angular.module("ez.paginator").directive("ezPaginatorLimit",["$routeParams","EzPaginatorConfig",function(a,b){return{restrict:"A",replace:!0,scope:{pagination:"=ezPaginatorLimit",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/limit/limit.html",link:function(a,c,d){a.config=b.get(a,d),a.pagination.limit=a.config.limits[0],a.setLimit=function(b){a.pagination.limit=b,"function"==typeof a.onChange&&a.onChange(a.pagination)}}}}]),angular.module("ez.paginator").directive("ezPager",["$location","$routeParams",function(a,b){return{restrict:"EA",scope:{pager:"="},templateUrl:"common/mdPager/md_pager.html",link:function(c){c.pageChanged=function(){var d=b;d.page=d.limit&&c.pager.limit!==parseInt(d.limit,10)?1:c.pager.currentPage,d.limit=c.pager.limit,a.search(d)}}}}]),angular.module("ez.paginator").directive("ezPaginator",["$location","$routeParams","EzPaginatorConfig",function(a,b,c){return{restrict:"A",scope:{pagination:"=ezPaginator",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/paginator/paginator.html",link:function(d,e,f){d.config=c.get(d,f),d.pagination.maxPages=d.pagination.maxPages||d.config.maxPages,d.pagination.limit=d.pagination.limit||d.config.limit,d.pagination.items=d.pagination.items||[],d.pagination.page=d.pagination.page||d.config.initialPage;var g=function(){d.hasBeenInitialized=!0,d.pagination.pages||(d.pagination.pages=Math.ceil(d.pagination.items.length/d.pagination.limit)),d.config.showPaginator=d.pagination.pages&&1!==d.pagination.pages?!0:!1,d.pagination.itemCount=d.pagination.items.length};d.pageChanged=function(){"function"==typeof d.onChange?d.onChange(d.pagination):(angular.extend(b,{page:d.pagination.page,state:d.pagination.state,limit:d.pagination.limit}),a.search(b))},d.$watch("pagination.items",function(a,b){a!==b&&g()}),g()}}}]),angular.module("ez.paginator").directive("ezPaginatorState",["$routeParams","EzPaginatorConfig",function(a,b){return{restrict:"A",replace:!0,scope:{pagination:"=ezPaginatorState",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/state/state.html",link:function(a,c,d){a.config=b.get(a,d),a.pagination.state=a.config.states[0],a.setState=function(b){a.pagination.state=b,"function"==typeof a.onChange&&a.onChange(a.pagination)}}}}]);