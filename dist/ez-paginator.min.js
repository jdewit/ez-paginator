angular.module("ez.paginator",[]),angular.module("ez.paginator").directive("ezPaginatorBar",["EzPaginatorConfig",function(a){return{restrict:"EA",scope:{pagination:"=ezPaginatorBar",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/bar/bar.html",link:function(b,c,d){b.config=a.get(b,d)}}}]),angular.module("ez.paginator").constant("EzPaginatorConfig",{maxPages:10,initialPage:1,showPaginator:!0,showState:!0,showLimit:!0,states:[{id:"active",name:"Active"},{id:"deleted",name:"Deleted"}],defaultState:"active",stateToggleClass:"btn btn-default",stateDropdownMenuClass:"pointer pull-right",stateContainerClass:"dropup",limits:[5,15,25,50],defaultLimit:15,limitToggleClass:"btn btn-default",limitDropdownMenuClass:"pointer pull-right",limitContainerClass:"dropup",get:function(a,b){var c=angular.extend({},this);if(delete c.get,a.ezConfig&&(c=angular.extend(c,a.ezConfig)),a&&b){var d=Object.getOwnPropertyNames(this);d.forEach(function(d){b.hasOwnProperty(d)&&(c[d]="boolean"==typeof c[d]?"true"===b[d]?!0:"false"===b[d]?!1:a.$parent[b[d]]:b[d])})}return c}}),angular.module("ez.paginator").directive("ezPaginatorLimit",["$routeParams","$location","EzPaginatorConfig",function(a,b,c){return{restrict:"A",scope:{pagination:"=ezPaginatorLimit",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/limit/limit.html",link:function(d,e,f){d.config=c.get(d,f);var g="function"==typeof d.onChange;d.pagination.limit&&-1!==d.config.limits.indexOf(d.pagination.limit)||!g&&a.limit&&d.config.limits.indexOf(a.limit)&&(d.pagination.limit=a.limit),d.pagination.limit&&(d.pagination.limit=d.config.defaultLimit),d.setLimit=function(c){d.pagination.limit=c,g?d.onChange(d.pagination):(a.limit=c,b.search(a))}}}}]),angular.module("ez.paginator").directive("ezPager",["EzPaginatorConfig","$location","$routeParams",function(a,b,c){return{restrict:"A",scope:{pagination:"=ezPager",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/pager/pager.html",link:function(d,e,f){var g="function"==typeof d.onChange,h=function(){d.config=a.get(d,f),d.pagination.items=d.pagination.items||[],d.pagination.page||g||(d.pagination.page=c.page),d.pagination.page||(d.pagination.page=d.config.initialPage),d.pagination.pages||(d.pagination.pages=Math.ceil(d.pagination.items.length/d.pagination.limit)),d.pagination.itemCount||(d.pagination.itemCount=d.pagination.items.length)};d.pageChanged=function(){g?d.onChange(d.pagination):(c.page=d.pagination.page,b.search(c))},h()}}}]),angular.module("ez.paginator").directive("ezPaginator",["$location","$routeParams","EzPaginatorConfig",function(a,b,c){return{restrict:"A",scope:{pagination:"=ezPaginator",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/paginator/paginator.html",link:function(d,e,f){var g="function"==typeof d.onChange,h=function(){d.config=c.get(d,f),d.pagination.maxPages=d.pagination.maxPages||d.config.maxPages,d.pagination.items=d.pagination.items||[],d.pagination.page||g||(d.pagination.page=b.page),d.pagination.page||(d.pagination.page=d.config.initialPage),d.pagination.pages||(d.pagination.pages=Math.ceil(d.pagination.items.length/d.pagination.limit)),d.pagination.itemCount||(d.pagination.itemCount=d.pagination.items.length)};d.pageChanged=function(){g?d.onChange(d.pagination):(b.page=d.pagination.page,a.search(b))},h()}}}]),angular.module("ez.paginator").directive("ezPaginatorState",["$routeParams","$location","EzPaginatorConfig",function(a,b,c){return{restrict:"A",scope:{pagination:"=ezPaginatorState",ezConfig:"=?",onChange:"=?"},templateUrl:"ez_paginator/state/state.html",link:function(d,e,f){d.config=c.get(d,f);var g="function"==typeof d.onChange;d.pagination.state||(d.pagination.state=g?d.config.defaultState:a.state),d.getName=function(a){var b=d.config.states[0];if(a)for(var c=0;c<d.config.states.length;c++)if(d.config.states[c].id===a){b=d.config.states[c];break}return b.name},d.setState=function(c){d.pagination.state=c.id,d.pagination.page=1,g?d.onChange(d.pagination):(a.state=c.id,a.page=1,b.search(a))}}}}]);